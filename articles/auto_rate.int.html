<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>auto_rate.int: Automatic extraction of rates in intermittent-flow respirometry • respR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="auto_rate.int: Automatic extraction of rates in intermittent-flow respirometry">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">respR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.3.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>

  </a>
</li>
<li>
  <a href="../articles/respR.html">Getting Started</a>
</li>
<li>
  <a href="../reference/index.html">Documentation</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">---- Complete Workflows ----</li>
    <li>
      <a href="../articles/closed.html">Closed-chamber respirometry</a>
    </li>
    <li>
      <a href="../articles/intermittent_short.html">Intermittent-flow respirometry: Short experiment</a>
    </li>
    <li>
      <a href="../articles/intermittent_long.html">Intermittent-flow respirometry: Long experiment</a>
    </li>
    <li>
      <a href="../articles/flowthrough.html">Flowthrough respirometry</a>
    </li>
    <li>
      <a href="../articles/oxycrit.html">Critical oxygen values (PCrit)</a>
    </li>
    <li>
      <a href="../articles/oxy_production.html">Oxygen production respirometry</a>
    </li>
    <li class="dropdown-header">---- Function Guides ----</li>
    <li>
      <a href="../articles/inspecting.html">inspect: Inspecting data</a>
    </li>
    <li>
      <a href="../articles/subset_data.html">subset_data: Subset data by time, row, or oxygen ranges</a>
    </li>
    <li>
      <a href="../articles/calc_rate.html">calc_rate: Manually select and calculate rates</a>
    </li>
    <li>
      <a href="../articles/calc_rate.int.html">calc_rate.int: Manual extraction of rates in intermittent-flow respirometry</a>
    </li>
    <li>
      <a href="../articles/auto_rate.html">auto_rate: Automatic detection of linear rates</a>
    </li>
    <li>
      <a href="../articles/auto_rate.int.html">auto_rate.int: Automatic extraction of rates in intermittent-flow respirometry</a>
    </li>
    <li>
      <a href="../articles/adjust_rate.html">adjust_rate: Adjusting rates for background</a>
    </li>
    <li>
      <a href="../articles/select_rate.html">select_rate: Exploring and filtering results</a>
    </li>
    <li>
      <a href="../articles/format_time.html">format_time: Convert date-time data to numeric time</a>
    </li>
    <li>
      <a href="../articles/convert_DO.html">convert_DO: Convert between units of dissolved oxygen</a>
    </li>
    <li class="dropdown-header">---- Miscellaneous ----</li>
    <li>
      <a href="../articles/importing.html">Importing files from oxygen probe systems</a>
    </li>
    <li>
      <a href="../articles/twopoint.html">Two-point rate calculation</a>
    </li>
    <li>
      <a href="../articles/subsample.html">Thin larger datasets</a>
    </li>
    <li>
      <a href="../articles/tidyverse.html">Integration with the tidyverse</a>
    </li>
    <li>
      <a href="../articles/reproducibility.html">Reporting reproducibile analyses</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    More

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/contact.html">Contact</a>
    </li>
    <li>
      <a href="../articles/release_notes.html">Release Notes</a>
    </li>
    <li>
      <a href="../articles/citations.html">respR Citations</a>
    </li>
    <li>
      <a href="../articles/refs.html">References</a>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Archived</a>
      <ul class="dropdown-menu" role="menu">
<li>
          <a href="../articles/archive/intermittent_old.html">Intermittent-flow respirometry: Alternative approaches</a>
        </li>
        <li>
          <a href="../articles/archive/v2_code_change.html">v2.0: Code changes</a>
        </li>
        <li>
          <a href="../articles/archive/v1_code.html">v1.1: How to install and run older code</a>
        </li>
        <li>
          <a href="../articles/archive/auto_rate_performance.html">auto_rate: Performance</a>
        </li>
        <li>
          <a href="../articles/archive/auto_rate_comp.html">auto_rate: Comparisons with LoLinR</a>
        </li>
        <li>
          <a href="../articles/archive/oxy_crit_comp.html">oxy_crit: Comparisons with other packages</a>
        </li>
        <li>
          <a href="../articles/archive/oxy_crit_disc.html">oxy_crit: Discussion of Pcrit estimation methods</a>
        </li>
        <li>
          <a href="../articles/archive/packages_comp.html">respR: Comparisons with other R packages</a>
        </li>
        <li>
          <a href="../articles/archive/usage.html">respR: When to use respR</a>
        </li>
      </ul>
</li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/januarharianto/respr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>auto_rate.int: Automatic extraction of rates in
intermittent-flow respirometry</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/januarharianto/respr/blob/HEAD/vignettes/auto_rate.int.Rmd" class="external-link"><code>vignettes/auto_rate.int.Rmd</code></a></small>
      <div class="hidden name"><code>auto_rate.int.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code><a href="../reference/auto_rate.int.html">auto_rate.int()</a></code> is a function for automatically
extracting rates from each replicate in intermittent-flow respirometry
data using the <code><a href="../reference/auto_rate.html">auto_rate()</a></code> function. You can use it to
extract from each replicate the most linear (i.e. most consistently
sustained) rates, the lowest or highest rates of a specific duration, or
any of the other methods supported by <code>auto_rate</code>.</p>
<p>This page contains descriptions and simple examples of the
functionality. You should familiarise yourself with how
<code>auto_rate</code> works before using <code>auto_rate.int</code>.
See <code><a href="../reference/auto_rate.html">auto_rate()</a></code> and <a href="https://januarharianto.github.io/respR/articles/auto_rate.html">here</a>
for a thorough overview. See <code><a href="../articles/intermittent_short.html">vignette("intermittent_short")</a></code>
for how <code>auto_rate.int</code> can be used to analyse a relatively
brief intermittent-flow respirometry experiment, and
<code><a href="../articles/intermittent_long.html">vignette("intermittent_long")</a></code> for an example of analysing a
longer experiment.</p>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code>auto_rate.int</code> uses the <code>starts</code> locations to
subset each replicate from the data in <code>x</code>. It assumes the
end location of each replicate is the row preceding the start of the
next, or for the final replicate the last row of the dataset. It runs
<code>auto_rate</code> on the specified <code>measure</code> phase of
each replicate, extracting rates using the <code>method</code>,
<code>width</code>, and <code>by</code> inputs which are passed to
<code>auto_rate</code>. A <code>wait</code> phase can be specified to
exclude data at the start of each replicate. The flushes can be excluded
by using an appropriate <code>measure</code> phase.</p>
<p><code>auto_rate</code> returns multiple rate results depending on the
inputs. The <code>n</code> input determines how many of these are
returned to <code>auto_rate.int</code> for each replicate and saved in
the summary tables. The default is <code>n = 1</code>, so for example in
using the <code>"linear"</code> method this will be the most linear rate
in each replicate, or if using <code>"lowest"</code> it will be the
single lowest rate across the specified <code>width</code>. It is
possible to return multiple rates per replicate by changing
<code>n</code>, however consider carefully if this is necessary as the
output will necessarily contain many more rate results which may make it
difficult to explore and select results (although this is possible using
<code><a href="../reference/select_rate.html">select_rate()</a></code>).</p>
<p>An <code>auto_rate</code> object is saved for each replicate in the
output in <code>$results</code>, and the output <code>$summary</code>
table contains the results from all replicates in order with the
<code>$rep</code> column indicating the replicate number. If
<code>n</code> has been changed from the default to return more than one
result per replicate, the <code>$rank</code> column indicates ranking of
results <em>within</em> each replicate. This output object can be passed
to subsequent functions such as <code><a href="../reference/adjust_rate.html">adjust_rate()</a></code> and
<code><a href="../reference/convert_rate.html">convert_rate()</a></code> for further processing.</p>
</div>
<div class="section level2">
<h2 id="inputs">Inputs<a class="anchor" aria-label="anchor" href="#inputs"></a>
</h2>
<p>There are three required inputs:</p>
<ul>
<li><p><code>x</code>: The time~oxygen data from a single
intermittent-flow experiment as either a <code>data.frame</code> or
<code>inspect</code> object</p></li>
<li>
<p><code>starts</code>: The location of the start of each replicate.
This can be either:</p>
<ul>
<li><p>A single numeric value representing a regular row or time
interval starting at row 1. This option should only be used when
replicates cycle at regular intervals. If the first replicate does not
start at row 1 of the data in <code>x</code>, it should be subset so
that it does. See <code><a href="../reference/subset_data.html">subset_data()</a></code> and examples below for how
to do this.</p></li>
<li><p>A numeric vector of row numbers or times indicating each
replicate start location. Useful if replicates do <em>not</em> cycle at
regular intervals.</p></li>
</ul>
</li>
<li><p><code>width</code>: This is the width used in the
<code>auto_rate</code> analysis in either rows or a time duration in the
units of the raw data. It must be entered in the units of the
<code>by</code> setting (<code>"row"</code> or <code>"time"</code>),
which also sets the units of the <code>starts</code>, <code>wait</code>
and <code>measure</code> inputs. See <code><a href="../reference/auto_rate.html">auto_rate()</a></code> and <a href="https://januarharianto.github.io/respR/articles/auto_rate.html">here</a>
for how widths are applied. Note that proportional <code>width</code>
inputs accepted in <code>auto_rate</code> if <code>by = "row"</code>
(e.g. <code>0.2</code> to represent 20% of the total data length) will
apply to the length of the <code>measure</code> phase.</p></li>
</ul>
<div class="section level3">
<h3 id="other-inputs">Other inputs<a class="anchor" aria-label="anchor" href="#other-inputs"></a>
</h3>
<ul>
<li><p><code>wait</code>: A row length or time duration to be applied at
the start of each replicate to <em>exclude</em> these data from any rate
calculations. Can be a single value to apply the same wait phase to each
replicate, or a vector of the same length as <code>starts</code> of
different wait phases for each replicate. Default is <code>NULL</code>
in which case no wait phase is applied.</p></li>
<li><p><code>measure</code>: This is the region within which the
<code>auto_rate</code> analysis is conducted for each replicate. It is a
row length or time duration to be applied at the end of the
<code>wait</code> phase (if used, otherwise it applies from the start of
the data), and should be the correct length to exclude the flush period.
Can be a single value to apply the same measure phase to each replicate,
or a vector of the same length as <code>starts</code> of different
measure phases for each replicate. Default is <code>NULL</code> in which
case the entire replicate is used (which is rarely what is
wanted).</p></li>
<li><p><code>by</code>: Controls how the <code>starts</code>,
<code>wait</code>, <code>measure</code>, and <code>width</code> inputs
are applied. The default is <code>"row"</code> with
<code>by = "time"</code> being the other option. We would strongly
advise you use <code>"row"</code> whenever possible as, while the
function has been tested, the code for parsing inputs by row is much
more robust and less likely to throw up obscure bugs. (Please <a href="https://januarharianto.github.io/respR/articles/contact.html">provide
feedback</a> for <strong>any</strong> issues you encounter using either
method).</p></li>
<li><p><code>method</code>: Selects the rate extraction method used in
<code>auto_rate</code>. The default method is <code>"linear"</code>. See
<code><a href="../reference/auto_rate.html">auto_rate()</a></code>.</p></li>
<li><p><code>n</code>: Sets how many rate results to extract from each
replicate. Default is <code>1</code>.</p></li>
<li><p><code>plot</code>: Controls if a plot is produced. See <a href="#plot">Plot</a> section.</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<p>The <code>urchin</code> dataset used for examples below is the
included <code>intermittent.rd</code> example data with the time values
changed to minutes to better demonstrate time region selection.
Experimental data such as volume, weight, and row locations of
replicates, flushes etc. can be found in the data help file:
<code><a href="../reference/intermittent.rd.html">?intermittent.rd</a></code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">urchin</span> <span class="op">&lt;-</span> <span class="va">intermittent.rd</span></span>
<span><span class="va">urchin</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">urchin</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">/</span> <span class="fl">60</span> <span class="co"># change time values to minutes</span></span></code></pre></div>
<p>This is what the whole dataset look like. There are three replicates
of different duration.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">urchin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/inspect.html">inspect</a></span><span class="op">(</span><span class="va">urchin</span><span class="op">)</span></span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-2-1.png" width="960" style="display: block; margin: auto;"></p>
<p>Therefore in the following examples we specify three locations in
<code>starts</code>. See the later <a href="#regspaced">example</a> for
how the <code>starts</code> of regularly spaced replicates are
specified.</p>
</div>
<div class="section level2">
<h2 id="changing-defaults">Changing defaults<a class="anchor" aria-label="anchor" href="#changing-defaults"></a>
</h2>
<p>By default, if no inputs other than <code>x</code>,
<code>starts</code>, and <code>width</code> are entered, the
<code>auto_rate</code> default of <code>method = "linear"</code> is
applied to all the data in each replicate. This finds the most linear
region of a dataset (see <code><a href="../articles/auto_rate.html">vignette("auto_rate")</a></code>).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auto_rate.int.html">auto_rate.int</a></span><span class="op">(</span><span class="va">urchin</span>,</span>
<span>              starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2101</span>, <span class="fl">3901</span><span class="op">)</span>,</span>
<span>              width <span class="op">=</span> <span class="fl">400</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; auto_rate.int: The `measure` input is NULL. Calculating rate to the end of the replicate.</span></span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-3-1.png" width="960" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # plot.auto_rate.int # ------------------</span></span>
<span><span class="co">#&gt; plot.auto_rate.int: Plotting all rates ...</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # summary.auto_rate.int # ---------------</span></span>
<span><span class="co">#&gt; Summary of all rate results:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    rep rank intercept_b0 slope_b1   rsq density  row endrow  time endtime  oxy endoxy    rate</span></span>
<span><span class="co">#&gt; 1:   1    1         7.12  -0.0344 0.988     126  495   1291  8.23    21.5 6.84   6.40 -0.0344</span></span>
<span><span class="co">#&gt; 2:   2    1         8.53  -0.0366 0.991     191 2205   3188 36.73    53.1 7.17   6.60 -0.0366</span></span>
<span><span class="co">#&gt; 3:   3    1         9.72  -0.0390 0.984     391 3930   4673 65.48    77.9 7.18   6.69 -0.0390</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span></code></pre>
<p>Here it performs well in identifying linear regions. However, these
inputs mean the flush data is included.</p>
<div class="section level3">
<h3 id="wait-and-measure">
<code>wait</code> and <code>measure</code><a class="anchor" aria-label="anchor" href="#wait-and-measure"></a>
</h3>
<p>It is usually a good idea to use the <code>measure</code> input to
ensure flushes are excluded and that only relevant data is included in
the analysis. We also typically want to exclude some data at the start
of a replicate right after the flush, which we can do using
<code>wait</code>. All of these are applied in the default units of
<code>by = "row"</code>. (We also pass <code>legend = TRUE</code> so
that the phases are labelled on the plots).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auto_rate.int.html">auto_rate.int</a></span><span class="op">(</span><span class="va">urchin</span>,</span>
<span>              starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2101</span>, <span class="fl">3901</span><span class="op">)</span>,</span>
<span>              wait <span class="op">=</span> <span class="fl">300</span>,</span>
<span>              measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1500</span>, <span class="fl">1100</span>, <span class="fl">600</span><span class="op">)</span>,</span>
<span>              width <span class="op">=</span> <span class="fl">400</span>, </span>
<span>              legend <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-4-1.png" width="960" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # plot.auto_rate.int # ------------------</span></span>
<span><span class="co">#&gt; plot.auto_rate.int: Plotting all rates ...</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # summary.auto_rate.int # ---------------</span></span>
<span><span class="co">#&gt; Summary of all rate results:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    rep rank intercept_b0 slope_b1   rsq density  row endrow  time endtime  oxy endoxy    rate</span></span>
<span><span class="co">#&gt; 1:   1    1         7.12  -0.0344 0.988     227  495   1291  8.23    21.5 6.84   6.40 -0.0344</span></span>
<span><span class="co">#&gt; 2:   2    1         8.55  -0.0370 0.988     256 2402   3186 40.02    53.1 7.06   6.60 -0.0370</span></span>
<span><span class="co">#&gt; 3:   3    1         9.72  -0.0390 0.956     410 4251   4663 70.83    77.7 6.93   6.68 -0.0390</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span></code></pre>
<p>Note how the rates (yellow points) do not use the entire
<code>measure</code> phase. This is because the <code>auto_rate</code>
analysis occurs <em>within</em> the measure phase and the actual lengths
of the rate results depends on the <code>method</code> and
<code>width</code>. If you want to use the entire <code>measure</code>
phase see <code><a href="../reference/calc_rate.int.html">calc_rate.int()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="n-input">
<code>n</code> input<a class="anchor" aria-label="anchor" href="#n-input"></a>
</h3>
<p>These results show the single top-ranked linear region in each
replicate and we can see the rates are fairly consistent. Note there is
one result per replicate, with the replicate number in the
<code>rep</code> column. The <code>rank</code> column shows ranking of
rates <em>within</em> a replicate for the particular <code>method</code>
used, and are all <code>1</code> here because only one rate has been
extracted. You can modify the <code>n</code> input to output more than
one rate per replicate. This is what the analysis looks like if it is
changed.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auto_rate.int.html">auto_rate.int</a></span><span class="op">(</span><span class="va">urchin</span>,</span>
<span>              starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2101</span>, <span class="fl">3901</span><span class="op">)</span>,</span>
<span>              wait <span class="op">=</span> <span class="fl">300</span>,</span>
<span>              measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1500</span>, <span class="fl">1100</span>, <span class="fl">600</span><span class="op">)</span>,</span>
<span>              width <span class="op">=</span> <span class="fl">400</span>, </span>
<span>              n <span class="op">=</span> <span class="fl">3</span>,</span>
<span>              plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              legend <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-5-1.png" width="960" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # plot.auto_rate.int # ------------------</span></span>
<span><span class="co">#&gt; plot.auto_rate.int: Plotting all rates ...</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # summary.auto_rate.int # ---------------</span></span>
<span><span class="co">#&gt; Summary of all rate results:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    rep rank intercept_b0 slope_b1   rsq density  row endrow  time endtime  oxy endoxy    rate</span></span>
<span><span class="co">#&gt; 1:   1    1         7.12  -0.0344 0.988     227  495   1291  8.23    21.5 6.84   6.40 -0.0344</span></span>
<span><span class="co">#&gt; 2:   1    2         7.12  -0.0343 0.990     214  499   1412  8.30    23.5 6.84   6.31 -0.0343</span></span>
<span><span class="co">#&gt; 3:   1    3         7.12  -0.0345 0.986     213  683   1412 11.37    23.5 6.71   6.31 -0.0345</span></span>
<span><span class="co">#&gt; 4:   2    1         8.55  -0.0370 0.988     256 2402   3186 40.02    53.1 7.06   6.60 -0.0370</span></span>
<span><span class="co">#&gt; 5:   2    2         8.30  -0.0322 0.958     254 2985   3476 49.73    57.9 6.70   6.43 -0.0322</span></span>
<span><span class="co">#&gt; 6:   2    3         8.54  -0.0368 0.985     211 2482   3188 41.35    53.1 7.02   6.60 -0.0368</span></span>
<span><span class="co">#&gt; 7:   3    1         9.72  -0.0390 0.956     410 4251   4663 70.83    77.7 6.93   6.68 -0.0390</span></span>
<span><span class="co">#&gt; 8:   3    2         9.43  -0.0353 0.955     230 4357   4781 72.60    79.7 6.90   6.63 -0.0353</span></span>
<span><span class="co">#&gt; 9:   3    3         9.46  -0.0356 0.942     113 4362   4719 72.68    78.6 6.88   6.66 -0.0356</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span></code></pre>
<p>Note the <code>rep</code> and <code>rank</code> columns which keep
track of rates.</p>
<p>These results can be passed to <code>adjust_rate</code> and
<code>convert_rate</code> for further processing, however consider
carefully if you really need to extract more than one rate from each
replicate, or if you do be prepared to do a little extra processing of
the results (see <code><a href="../reference/select_rate.html">select_rate()</a></code>).</p>
</div>
</div>
<div class="section level2">
<h2 id="lowest-and-highest-rates">Lowest and highest rates<a class="anchor" aria-label="anchor" href="#lowest-and-highest-rates"></a>
</h2>
<p>Often in intermittent-flow respirometry we want to get the lowest or
highest rates from each replicate, to identify, for example, standard or
active metabolic rates. We can do that using the <code>method</code>,
<code>width</code>, and <code>by</code> inputs which are passed to
<code>auto_rate</code>.</p>
<p>In these examples we use <code>by = "time"</code> selection of
regions. This is the <code>lowest</code> rate over a period of 8 minutes
from each replicate:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auto_rate.int.html">auto_rate.int</a></span><span class="op">(</span><span class="va">urchin</span>,</span>
<span>              starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">35</span>, <span class="fl">65</span><span class="op">)</span>,</span>
<span>              wait <span class="op">=</span> <span class="fl">5</span>,</span>
<span>              measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">15</span>, <span class="fl">15</span><span class="op">)</span>,</span>
<span>              method <span class="op">=</span> <span class="st">"lowest"</span>,</span>
<span>              width <span class="op">=</span> <span class="fl">8</span>,</span>
<span>              by <span class="op">=</span> <span class="st">"time"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-6-1.png" width="960" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # plot.auto_rate.int # ------------------</span></span>
<span><span class="co">#&gt; plot.auto_rate.int: Plotting all rates ...</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # summary.auto_rate.int # ---------------</span></span>
<span><span class="co">#&gt; Summary of all rate results:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    rep rank intercept_b0 slope_b1   rsq density  row endrow time endtime  oxy endoxy    rate</span></span>
<span><span class="co">#&gt; 1:   1    1         7.03  -0.0306 0.966      NA 1321   1801 22.0    30.0 6.37   6.11 -0.0306</span></span>
<span><span class="co">#&gt; 2:   2    1         8.48  -0.0356 0.969      NA 2764   3244 46.0    54.0 6.86   6.54 -0.0356</span></span>
<span><span class="co">#&gt; 3:   3    1         9.44  -0.0353 0.965      NA 4351   4831 72.5    80.5 6.92   6.59 -0.0353</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span></code></pre>
<p>This is the <code>highest</code> rate over a period of 8 minutes from
each replicate:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auto_rate.int.html">auto_rate.int</a></span><span class="op">(</span><span class="va">urchin</span>,</span>
<span>              starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">35</span>, <span class="fl">65</span><span class="op">)</span>,</span>
<span>              wait <span class="op">=</span> <span class="fl">5</span>,</span>
<span>              measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">15</span>, <span class="fl">15</span><span class="op">)</span>,</span>
<span>              method <span class="op">=</span> <span class="st">"highest"</span>,</span>
<span>              width <span class="op">=</span> <span class="fl">8</span>,</span>
<span>              by <span class="op">=</span> <span class="st">"time"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-7-1.png" width="960" style="display: block; margin: auto;"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # plot.auto_rate.int # ------------------</span></span>
<span><span class="co">#&gt; plot.auto_rate.int: Plotting all rates ...</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # summary.auto_rate.int # ---------------</span></span>
<span><span class="co">#&gt; Summary of all rate results:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    rep rank intercept_b0 slope_b1   rsq density  row endrow time endtime  oxy endoxy    rate</span></span>
<span><span class="co">#&gt; 1:   1    1         7.15  -0.0372 0.964      NA  301    781    5      13 6.98   6.67 -0.0372</span></span>
<span><span class="co">#&gt; 2:   2    1         8.65  -0.0391 0.974      NA 2644   3124   44      52 6.92   6.62 -0.0391</span></span>
<span><span class="co">#&gt; 3:   3    1         9.70  -0.0388 0.969      NA 4202   4682   70      78 6.99   6.69 -0.0388</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span></code></pre>
<p>See <code><a href="../reference/auto_rate.html">help("auto_rate")</a></code> and
<code><a href="../articles/auto_rate.html">vignette("auto_rate")</a></code> for other methods that can be
applied.</p>
</div>
<div class="section level2">
<h2 id="regspaced">Regularly spaced replicates<a class="anchor" aria-label="anchor" href="#regspaced"></a>
</h2>
<p>For intermittent-flow experiments where the replicates are regularly
spaced you do not have to specify the start location of every single one
in <code>starts</code>, but can instead enter a single value indicating
the interval in rows or a time duration between each one starting at the
first row of the input data.</p>
<div class="section level3">
<h3 id="specify-regular-replicate-structure">Specify regular replicate structure<a class="anchor" aria-label="anchor" href="#specify-regular-replicate-structure"></a>
</h3>
<p>The <code>zeb_intermittent.rd</code> example dataset uses a regular
replicate structure of 9 minutes measure and 2 minutes flush (660 rows
total) for most of its length. See
<code><a href="../reference/zeb_intermittent.rd.html">help("zeb_intermittent.rd")</a></code> for exact locations, but
essentially after a background control and a single replicate of 14
minutes this structure is maintained until the ending background
recording. Therefore to use this option we need to use
<code><a href="../reference/subset_data.html">subset_data()</a></code> (or other methods in <code>R</code> to subset
data) to extract only the regular replicates, and pipe the result to
<code>auto_rate.int</code>. We use <code>starts</code> to specify that
replicates cycle at 660 rows, impose a <code>wait</code> phase of 2
minutes, a <code>measure</code> phase of 7 minutes to exclude the flush,
and use the other inputs to extract the lowest rate of 3 minutes
duration.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zeb_all</span> <span class="op">&lt;-</span> <span class="va">zeb_intermittent.rd</span> <span class="op">|&gt;</span></span>
<span>  </span>
<span>  <span class="co"># Inspect the data</span></span>
<span>  <span class="fu"><a href="../reference/inspect.html">inspect</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  </span>
<span>  <span class="co"># Subset regular replicates from larger dataset</span></span>
<span>  <span class="fu"><a href="../reference/subset_data.html">subset_data</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">5840</span>,</span>
<span>              to <span class="op">=</span> <span class="fl">75139</span>,</span>
<span>              by <span class="op">=</span> <span class="st">"row"</span>,</span>
<span>              quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  </span>
<span>  <span class="co"># Use auto_rate.int to get lowest 3 minute rate from each replicate, </span></span>
<span>  <span class="co"># plotting first 3 and last 3 (using 'pos')</span></span>
<span>  <span class="fu"><a href="../reference/auto_rate.int.html">auto_rate.int</a></span><span class="op">(</span>starts <span class="op">=</span> <span class="fl">660</span>,</span>
<span>                wait <span class="op">=</span> <span class="fl">120</span>,</span>
<span>                measure <span class="op">=</span> <span class="fl">420</span>,</span>
<span>                width <span class="op">=</span> <span class="fl">180</span>,</span>
<span>                method <span class="op">=</span> <span class="st">"lowest"</span>,</span>
<span>                plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                pos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">103</span><span class="op">:</span><span class="fl">105</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-8-1.png" width="960" style="display: block; margin: auto;"></p>
<p>Here we use the <code>pos</code> input which is passed to
<code>plot</code> to select the first and last three replicates for
plotting to check everything looks okay. This is only for illustration
here. In an actual experiment we <strong>strongly</strong> recommend
every replicate rate result be examined visually. Up to 20 results at a
time can be plotted using the <code>pos</code> input. See <a href="#plot">Plot</a> section below for further details.</p>
</div>
<div class="section level3">
<h3 id="view-summary">View summary<a class="anchor" aria-label="anchor" href="#view-summary"></a>
</h3>
<p>Each replicate result is saved in the <code>$summary</code> element
of the output, or we can use <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">zeb_all</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # summary.auto_rate.int # ---------------</span></span>
<span><span class="co">#&gt; Summary of all rate results:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      rep rank intercept_b0 slope_b1   rsq density   row endrow  time endtime  oxy endoxy     rate</span></span>
<span><span class="co">#&gt;   1:   1    1         48.5 -0.00707 0.992      NA   157    336  5996    6175 6.10   4.81 -0.00707</span></span>
<span><span class="co">#&gt;   2:   2    1         33.1 -0.00411 0.957      NA  1021   1200  6860    7039 5.00   4.10 -0.00411</span></span>
<span><span class="co">#&gt;   3:   3    1         47.4 -0.00559 0.966      NA  1681   1860  7520    7699 5.44   4.35 -0.00559</span></span>
<span><span class="co">#&gt;   4:   4    1         38.1 -0.00392 0.977      NA  2202   2381  8041    8220 6.59   5.89 -0.00392</span></span>
<span><span class="co">#&gt;   5:   5    1         36.0 -0.00336 0.958      NA  2967   3146  8806    8985 6.40   5.74 -0.00336</span></span>
<span><span class="co">#&gt;  ---                                                                                             </span></span>
<span><span class="co">#&gt; 101: 101    1        157.0 -0.00207 0.927      NA 66271  66450 72110   72289 7.36   7.02 -0.00207</span></span>
<span><span class="co">#&gt; 102: 102    1        163.1 -0.00214 0.921      NA 67021  67200 72860   73039 7.20   6.85 -0.00214</span></span>
<span><span class="co">#&gt; 103: 103    1        162.9 -0.00212 0.933      NA 67677  67856 73516   73695 7.22   6.82 -0.00212</span></span>
<span><span class="co">#&gt; 104: 104    1        170.0 -0.00220 0.941      NA 68209  68388 74048   74227 7.48   7.10 -0.00220</span></span>
<span><span class="co">#&gt; 105: 105    1        155.5 -0.00198 0.920      NA 68917  69096 74756   74935 7.39   6.99 -0.00198</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span></code></pre></div>
<p>This object is now ready to be passed to <code><a href="../reference/adjust_rate.html">adjust_rate()</a></code>
and <code><a href="../reference/convert_rate.html">convert_rate()</a></code>. Final rate selection can be handled
using <code><a href="../reference/select_rate.html">select_rate()</a></code> after conversion. See
<code><a href="../articles/select_rate.html">vignette("select_rate")</a></code> and
<code><a href="../articles/intermittent_long.html">vignette("intermittent_long")</a></code> for examples.</p>
</div>
</div>
<div class="section level2">
<h2 id="plot">Plot<a class="anchor" aria-label="anchor" href="#plot"></a>
</h2>
<p>If <code>plot = TRUE</code>, a plot is produced of each replicate
rate result on a grid up to a total of 20. By default this is the first
20 (i.e. <code>pos = 1:20</code>). Others can be selected by modifying
the <code>pos</code> input, either in the main function call or when
calling <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> on output objects.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">zeb_all</span>, pos <span class="op">=</span> <span class="fl">50</span><span class="op">:</span><span class="fl">69</span><span class="op">)</span></span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-10-1.png" width="960" style="display: block; margin: auto;"></p>
<p>There are three ways in which these <code>auto_rate.int</code>
results can be plotted, selected using the <code>type</code> input in
either the main function call or when calling <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> on
output objects. For all plots, the bottom blue time axis shows the time
values of the original larger dataset, whilst the upper red row axis
shows the rows of the replicate subset.</p>
<div class="section level3">
<h3 id="type-rep">
<code>type = "rep"</code><a class="anchor" aria-label="anchor" href="#type-rep"></a>
</h3>
<p>The default is <code>type = "rep"</code> in which each replicate is
plotted individually with the rate region highlighted. The rate data is
the yellow points, the red shaded region is the <code>wait</code> phase,
and the green shaded region the <code>measure</code> phase.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">urch</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auto_rate.int.html">auto_rate.int</a></span><span class="op">(</span><span class="va">urchin</span>,</span>
<span>                      starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2101</span>, <span class="fl">3901</span><span class="op">)</span>,</span>
<span>                      wait <span class="op">=</span> <span class="fl">300</span>,</span>
<span>                      measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1500</span>, <span class="fl">1100</span>, <span class="fl">600</span><span class="op">)</span>,</span>
<span>                      width <span class="op">=</span> <span class="fl">400</span>, </span>
<span>                      plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"rep"</span>,</span>
<span>                      legend <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-11-1.png" width="960" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="type-full">
<code>type = "full"</code><a class="anchor" aria-label="anchor" href="#type-full"></a>
</h3>
<p>Entering <code>type = "full"</code> will show each replicate rate
highlighted in the context of the entire dataset.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auto_rate.int.html">auto_rate.int</a></span><span class="op">(</span><span class="va">urchin</span>,</span>
<span>              starts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2101</span>, <span class="fl">3901</span><span class="op">)</span>,</span>
<span>              wait <span class="op">=</span> <span class="fl">300</span>,</span>
<span>              measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1500</span>, <span class="fl">1100</span>, <span class="fl">600</span><span class="op">)</span>,</span>
<span>              width <span class="op">=</span> <span class="fl">400</span>, </span>
<span>              plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>              type <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span></span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-12-1.png" width="960" style="display: block; margin: auto;"></p>
<p>Note this may be of limited use when the dataset is large.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">zeb_all</span>, type <span class="op">=</span> <span class="st">"full"</span>, pos <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-13-1.png" width="960" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="type-ar">
<code>type = "ar"</code><a class="anchor" aria-label="anchor" href="#type-ar"></a>
</h3>
<p>Lastly, the <code>auto_rate</code> result (as found in the
<code>$results</code> element of the output) for each individual row of
the summary table can be plotted using <code>type = "ar"</code> and the
<code>pos</code> input. Note these plots show only the
<code>measure</code> phase of the data and the rate result from within
it.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">zeb_all</span>, type <span class="op">=</span> <span class="st">"ar"</span>, pos <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<p><img src="auto_rate.int_files/figure-html/unnamed-chunk-14-1.png" width="960" style="display: block; margin: auto;"></p>
<p>The <code>pos</code> input here can also be of multiple replicates
but this will produce multiple individual plots.</p>
</div>
<div class="section level3">
<h3 id="additional-plotting-options">Additional plotting options<a class="anchor" aria-label="anchor" href="#additional-plotting-options"></a>
</h3>
<p><code>legend</code> can be used to show labels (default is
<code>FALSE</code>). <code>quiet</code> suppresses console output.
Additional plotting parameters can also be passed to adjust margins,
axis label rotation, etc. See <a href="https://januarharianto.github.io/respR/articles/inspecting.html#additional-plotting-options">here</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="s3-generic-methods">S3 generic methods<a class="anchor" aria-label="anchor" href="#s3-generic-methods"></a>
</h2>
<p>As well as <code>plot</code>, saved <code>auto_rate.int</code>
objects work with the generic S3 methods <code>print</code>,
<code>summary</code>, and <code>mean</code></p>
<div class="section level3">
<h3 id="print">
<code>print</code><a class="anchor" aria-label="anchor" href="#print"></a>
</h3>
<p>This simply prints a single summary row rate result to the console,
by default the first one. The <code>pos</code> input can be used to
print others.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">zeb_all</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # print.auto_rate.int # -----------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Replicate 1 of 105, Rank 1 of 1:</span></span>
<span><span class="co">#&gt; Rate: -0.00707 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; To see other results use 'pos' input. </span></span>
<span><span class="co">#&gt; To see full results use summary().</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">zeb_all</span>, pos <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # print.auto_rate.int # -----------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Replicate 50 of 105, Rank 1 of 1:</span></span>
<span><span class="co">#&gt; Rate: -0.00179 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; To see other results use 'pos' input. </span></span>
<span><span class="co">#&gt; To see full results use summary().</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="summary">
<code>summary</code><a class="anchor" aria-label="anchor" href="#summary"></a>
</h3>
<p>This prints the summary table to the console which contains linear
model coefficients and other metadata for each replicate rate. The
<code>pos</code> input can be used to select which replicates
(<code>$rep</code> column) to include.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">zeb_all</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # summary.auto_rate.int # ---------------</span></span>
<span><span class="co">#&gt; Summary of all rate results:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      rep rank intercept_b0 slope_b1   rsq density   row endrow  time endtime  oxy endoxy     rate</span></span>
<span><span class="co">#&gt;   1:   1    1         48.5 -0.00707 0.992      NA   157    336  5996    6175 6.10   4.81 -0.00707</span></span>
<span><span class="co">#&gt;   2:   2    1         33.1 -0.00411 0.957      NA  1021   1200  6860    7039 5.00   4.10 -0.00411</span></span>
<span><span class="co">#&gt;   3:   3    1         47.4 -0.00559 0.966      NA  1681   1860  7520    7699 5.44   4.35 -0.00559</span></span>
<span><span class="co">#&gt;   4:   4    1         38.1 -0.00392 0.977      NA  2202   2381  8041    8220 6.59   5.89 -0.00392</span></span>
<span><span class="co">#&gt;   5:   5    1         36.0 -0.00336 0.958      NA  2967   3146  8806    8985 6.40   5.74 -0.00336</span></span>
<span><span class="co">#&gt;  ---                                                                                             </span></span>
<span><span class="co">#&gt; 101: 101    1        157.0 -0.00207 0.927      NA 66271  66450 72110   72289 7.36   7.02 -0.00207</span></span>
<span><span class="co">#&gt; 102: 102    1        163.1 -0.00214 0.921      NA 67021  67200 72860   73039 7.20   6.85 -0.00214</span></span>
<span><span class="co">#&gt; 103: 103    1        162.9 -0.00212 0.933      NA 67677  67856 73516   73695 7.22   6.82 -0.00212</span></span>
<span><span class="co">#&gt; 104: 104    1        170.0 -0.00220 0.941      NA 68209  68388 74048   74227 7.48   7.10 -0.00220</span></span>
<span><span class="co">#&gt; 105: 105    1        155.5 -0.00198 0.920      NA 68917  69096 74756   74935 7.39   6.99 -0.00198</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">zeb_all</span>, pos <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # summary.auto_rate.int # ---------------</span></span>
<span><span class="co">#&gt; Summary of results from entered 'pos' row(s):</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    rep rank intercept_b0 slope_b1   rsq density  row endrow time endtime  oxy endoxy     rate</span></span>
<span><span class="co">#&gt; 1:   1    1         48.5 -0.00707 0.992      NA  157    336 5996    6175 6.10   4.81 -0.00707</span></span>
<span><span class="co">#&gt; 2:   2    1         33.1 -0.00411 0.957      NA 1021   1200 6860    7039 5.00   4.10 -0.00411</span></span>
<span><span class="co">#&gt; 3:   3    1         47.4 -0.00559 0.966      NA 1681   1860 7520    7699 5.44   4.35 -0.00559</span></span>
<span><span class="co">#&gt; 4:   4    1         38.1 -0.00392 0.977      NA 2202   2381 8041    8220 6.59   5.89 -0.00392</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span></code></pre></div>
<p><code>export = TRUE</code> can be used to export the summary table as
a data frame, or those rows selected using <code>pos</code></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zeb_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">zeb_all</span>, </span>
<span>                   pos <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, </span>
<span>                   export <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zeb_exp</span></span>
<span><span class="co">#&gt;      rep  rank intercept_b0 slope_b1   rsq density   row endrow  time endtime   oxy endoxy     rate</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt;        &lt;num&gt;    &lt;num&gt; &lt;num&gt;  &lt;lgcl&gt; &lt;num&gt;  &lt;num&gt; &lt;num&gt;   &lt;num&gt; &lt;num&gt;  &lt;num&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1         48.5 -0.00707 0.992      NA   157    336  5996    6175  6.10   4.81 -0.00707</span></span>
<span><span class="co">#&gt; 2:     2     1         33.1 -0.00411 0.957      NA  1021   1200  6860    7039  5.00   4.10 -0.00411</span></span>
<span><span class="co">#&gt; 3:     3     1         47.4 -0.00559 0.966      NA  1681   1860  7520    7699  5.44   4.35 -0.00559</span></span>
<span><span class="co">#&gt; 4:     4     1         38.1 -0.00392 0.977      NA  2202   2381  8041    8220  6.59   5.89 -0.00392</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="mean">
<code>mean</code><a class="anchor" aria-label="anchor" href="#mean"></a>
</h3>
<p>This averages all replicate rates in the <code>$rate</code> column,
or those selected using <code>pos</code>. The result can be saved as a
value by using <code>export = TRUE</code>.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zeb_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">zeb_all</span>, pos <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, export <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # mean.auto_rate.int # ------------------</span></span>
<span><span class="co">#&gt; Mean of rate results from entered 'pos' rows:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Mean of 4 rates:</span></span>
<span><span class="co">#&gt; [1] -0.00517</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span>
<span><span class="va">zeb_mean</span></span>
<span><span class="co">#&gt; [1] -0.00517</span></span></code></pre></div>
<p>This could be passed as a numeric value to later functions such as
<code><a href="../reference/convert_rate.html">convert_rate()</a></code>, although it is usually better to do this
kind of result filtering after conversion.</p>
<!-- ## Notes and tips -->
<!-- - Note that . -->
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Nicholas Carey, Januar Harianto.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
