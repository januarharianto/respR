<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Automatically determine rate of change in oxygen concentration over time — auto_rate • respR</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<meta property="og:title" content="Automatically determine rate of change in oxygen concentration over time — auto_rate" />

<meta property="og:description" content="auto_rate automatically performs a rolling regression on a data frame to
determine maximum, minimum, interval or "best fit" linear rate of change in
oxygen concentration over time. First, a rolling regression of specified
width is performed on the entire dataset to obtain all possible values. The
computations are then ranked (or, arranged), based on the "logic" argument,
and the output is summarised." />
<meta name="twitter:card" content="summary" />
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">respR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/respR.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/auto_rate.html">Automatic detection of respirometry parameters</a>
    </li>
    <li>
      <a href="../articles/flowthrough.html">Flowthrough respirometry</a>
    </li>
    <li>
      <a href="../articles/intermittent.html">Analysis of intermittent-flow data</a>
    </li>
    <li>
      <a href="../articles/pcrit.html">Determining Pcrit</a>
    </li>
    <li>
      <a href="../articles/performance.html">Assessing the performance of respR's auto_rate function in detecting linear data</a>
    </li>
    <li>
      <a href="../articles/twopoint.html">Two-point analyses</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/januarharianto/respr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Automatically determine rate of change in oxygen concentration over time</h1>
    </div>

    
    <p><code>auto_rate</code> automatically performs a rolling regression on a data frame to
determine maximum, minimum, interval or "best fit" linear rate of change in
oxygen concentration over time. First, a rolling regression of specified
<code>width</code> is performed on the entire dataset to obtain all possible values. The
computations are then ranked (or, arranged), based on the "<code>logic</code>" argument,
and the output is summarised.</p>
    

    <pre class="usage"><span class='fu'>auto_rate</span>(<span class='no'>df</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"row"</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"linear"</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>df</th>
      <td><p>data frame, or object of class <code>adjust_rate</code>. This is the data to
process.</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>numeric. Width of the rolling regression. Defaults to `floor(0.2</p><ul>
<li><p>length of data<code>if NULL. The length of data can either be time or row, as defined by the</code>by<code>argument. If a number is supplied and it is less than 1, the function automatically applies the equation</code>floor(width * length of
data`. Otherwise it will simply use the number as the width.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>string. <code>"row"</code> or <code>"time"</code>. Defaults to <code>"row"</code>. However, if the
function detects an irregular time series, a warning will be issued to
recommend changing this argument to <code>"time"</code>. In most cases <code>"row"</code> is used
by default as it is efficient. Switching to <code>"time"</code> causes the function to
perform checks for irregular time at every iteration of the rolling
regression, even if time is evenly spaced, which adds to computation time.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>string. <code>"linear"</code>, <code>"max"</code>, <code>"min"</code> or <code>"interval"</code>. Defaults
to <code>linear</code>. Note that if <code>"linear"</code> is selected, the argument <code>width</code> will
be set to default.</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>logical. Defaults to TRUE. Plot the results.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>logical. Defaults to TRUE. Should parallel processing be
used?</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list object of class <code>auto_rate</code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><strong>Units</strong></p>
<p>There are no units of measurement involved in <code>auto_rate</code>. This is a
deliberate decision. Units are called in a later function when volumetric
and/or mass-specific rates of oxygen use are computed in <code><a href='convert_rate.html'>convert_rate()</a></code> and
<code><a href='convert_DO.html'>convert_DO()</a></code>.
    <em><strong>Ranking algorithms</strong></em></p>
<p>At present, <code>auto_rate()</code> contains four ranking algorithms that can be called
with the argument <code>method</code>:</p><ul>
<li><p><code>"linear"</code>: Uses kernel density estimation (KDE) to detect the most
"linear" sections of the timeseries. This is achieved by using the smoothing
bandwidth of the KDE to re-sample the "peaks" in the KDE to determine linear
regions in the data.</p></li>
<li><p><code>"max"</code>: regressions are arranged from highest values, to the lowest.</p></li>
<li><p><code>"min"</code>: regressions are arranged from lowest values, to the highest.</p></li>
<li><p><code>"interval"</code>: non-overlapping regressions are extracted from the rolled
regrssions. They are not ranked.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># most linear section of the entire data</span>
<span class='fu'>auto_rate</span>(<span class='no'>sardine.rd</span>, <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='message'>46 kernel density peaks detected and ranked.</span></div><div class='img'><img src='auto_rate-1.png' alt='' width='700' height='432.632880098887' /></div><div class='output co'>#&gt; Data is subset by row using width of 1502 
#&gt; Rates were computed using 'linear' method
#&gt; 46 linear regions detected in the kernel density estimate
#&gt; 
#&gt; === Rank 1 of 46 ===
#&gt; Rate: -0.0006290986 
#&gt; R.sq: 0.926 
#&gt; Rows: 5047 to 6569 
#&gt; Time: 5046 to 6568 </div><div class='input'><span class='co'># what is the lowest rate over a 10 minute (600s) period?</span>
<span class='fu'>auto_rate</span>(<span class='no'>sardine.rd</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"min"</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>600</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"time"</span>, <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='img'><img src='auto_rate-2.png' alt='' width='700' height='432.632880098887' /></div><div class='output co'>#&gt; Data is subset by time using width of 600 
#&gt; Rates were computed using 'min' method
#&gt; 
#&gt; === Rank 1 of 6913 ===
#&gt; Rate: -0.0005403066 
#&gt; R.sq: 0.5867958 
#&gt; Rows: 2259 to 2859 
#&gt; Time: 2258 to 2858 </div><div class='input'><span class='co'># what is the highest rate over a 10 minute (600s) period?</span>
<span class='fu'>auto_rate</span>(<span class='no'>sardine.rd</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"max"</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>600</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"time"</span>, <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='img'><img src='auto_rate-3.png' alt='' width='700' height='432.632880098887' /></div><div class='output co'>#&gt; Data is subset by time using width of 600 
#&gt; Rates were computed using 'max' method
#&gt; 
#&gt; === Rank 1 of 6913 ===
#&gt; Rate: -0.001193863 
#&gt; R.sq: 0.8595803 
#&gt; Rows: 791 to 1391 
#&gt; Time: 790 to 1390 </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Januar Harianto, Nicholas Carey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
