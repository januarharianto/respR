<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Parse date-time data to numeric — format_time • respR</title>

<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Parse date-time data to numeric — format_time" />

<meta property="og:description" content="A function to parse class POSIX.ct or text strings of date-time data to
numeric time for use in respR functions." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">respR</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/respR.html">Getting Started</a>
</li>
<li>
  <a href="../reference/index.html">List of Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/closed.html">Closed-chamber respirometry</a>
    </li>
    <li>
      <a href="../articles/importing.html">Importing your data</a>
    </li>
    <li>
      <a href="../articles/auto_rate.html">Automatic detection of respirometry rates</a>
    </li>
    <li>
      <a href="../articles/intermittent.html">Intermittent-flow respirometry: Simple example</a>
    </li>
    <li>
      <a href="../articles/intermittent2.html">Intermittent-flow respirometry: Complex example</a>
    </li>
    <li>
      <a href="../articles/flowthrough.html">Flowthrough respirometry</a>
    </li>
    <li>
      <a href="../articles/pcrit.html">Pcrit analysis</a>
    </li>
    <li>
      <a href="../articles/twopoint.html">Two-point analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Discussion
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/usage.html">When to use respR</a>
    </li>
    <li>
      <a href="../articles/performance.html">Performance of auto_rate</a>
    </li>
    <li>
      <a href="../articles/auto_rate_comp.html">Comparing auto_rate and LoLinR</a>
    </li>
    <li>
      <a href="../articles/packages_comp.html">A comparison of respR with other R packages</a>
    </li>
    <li>
      <a href="../articles/tidyverse.html">respR and the tidyverse</a>
    </li>
    <li>
      <a href="../articles/reproducibility.html">Reproducibility</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/januarharianto/respr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Parse date-time data to numeric</h1>
    <small class="dont-index">Source: <a href='https://github.com/januarharianto/respr/blob/master/R/format_time.R'><code>R/format_time.R</code></a></small>
    <div class="hidden name"><code>format_time.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>A function to parse class POSIX.ct or text strings of date-time data to
numeric time for use in <code>respR</code> functions.</p>
    
    </div>

    <pre class="usage"><span class='fu'>format_time</span>(<span class='no'>x</span>, <span class='kw'>time</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"ymdHMS"</span>, <span class='kw'>start</span> <span class='kw'>=</span> <span class='fl'>0</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>vector or data frame containing strings or class POSIX.ct date-time
data to be converted to numeric.</p></td>
    </tr>
    <tr>
      <th>time</th>
      <td><p>numeric value or vector of length 2. Identifies column(s)
containing date-time data</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>string. Code describing structure of date-time data. See
details. Directly relates to functions in the package <code>lubridate</code></p></td>
    </tr>
    <tr>
      <th>start</th>
      <td><p>numeric. Default = 0. At what time (in seconds) should the
formatted time data start?</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A vector or data frame, depending on input. If input is a vector, a
vector of same length containing numeric time is returned. If input is a
data frame, the output data frame is identical, except a new column,
<code>time.num</code>,of numeric time data in seconds is added as the first column.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><strong>Input</strong></p>
<p>Input can be a vector, or data frame. If a vector, output is a vector of
equal length containing numeric time data. If a data frame, the column index
of the date-time data can be specified using the <code>time =</code> input. If date-time
data is split over two columns (e.g. date in one column, time in another),
two columns can be specified. The function uses these to combine date and
time strings together for conversion. If multiple columns are specified, the
<code>format</code> setting should reflect the same order entered in <code>time =</code>. The
output data frame will be identical, except a new column called <code>time.num</code> is
added as the first column.</p>
<p>Date-time data can be unspaced or separated by any combination of spaces,
forward slashes, hyphens, dots, commas, colons, semicolons, or underscores.</p>
<p>E.g. all these are parsed as the same date-time: <code>"2010-02-28 13:10:23", "20100228131023", "2010,02/28 13.10;23", "2010 02 28 13_10-23"</code>.</p><ul>
<li><p>Times can be in 24H or 12H with AM/PM <br /> E.g. "2010-02-28 13:10:23" or
"2010-02-28 1:10:23 PM"</p></li>
<li><p>Times without initial zero are parsed as 24H time <br /> E.g. "1:10:23" is
same as "1:10:23 AM" or "01:10:23"</p></li>
<li><p>AM/PM take precedence over 24H formatting for 01-12h <br /> E.g. "1:10:23 PM"
and "01:10:23 PM" are both same as "13:10:23"</p></li>
<li><p>However, 24H formatting for 13-24h takes precedence over AM/PM <br /> E.g.
"13:10:23 AM" is identified as "1:10:23 PM" or "13:10:23"</p></li>
</ul>
    <p>Regardless of input, all data are parsed to numeric time data in seconds
duration from the first entry, unless a <code>start</code> number is specified, in which
case the series starts at that number (in seconds) and all subsequent times
are shifted forward by the same amount.</p>
<p><strong>Syntax</strong></p>
<p>Simply identify the order which the year, month, day, and time appears in
your date-time input.</p>
<dl class='dl-horizontal'>
<dt><code>d</code></dt><dd><p>Day of the month as decimal number (01--31 or 0--31).</p></dd>
<dt><code>m</code></dt><dd><p>Month of the year as decimal number (01--12 or 1--12).</p></dd>
<dt><code>y</code></dt><dd><p>Year (2010, 2001, 1989).</p></dd> <dt><code>H</code></dt><dd><p>Hour, must be capitalised
(<code>H</code>, not <code>h</code>). Decimal number (00--24 or 0--24).</p></dd> <dt><code>M</code></dt><dd><p>Minute, must be
capitalised (<code>M</code>, not <code>m</code>). Decimal number (00--59 or 0--59).</p></dd>
<dt><code>S</code></dt><dd><p>Second, must be capitalised (<code>S</code>, not <code>s</code>). Decimal number (00--59
or 0--59).</p></dd> <dt><code>p</code></dt><dd><p>AM/PM indicator. Adding this will format the data as
12-h date-time format.</p></dd> </dl>
    <p>Print the order in the <code>format</code> string argument, using separators if you
choose to (optional): <code>"dmyHMS"</code>; <code>"dmy_HMS"</code> and <code>"d m y H M S"</code> are all the
same. Obviously, single experiments will not be conducted across different
time zones, so if a time zone is present, it is ignored for the purposes of
calculating numeric times. If multiple columns have been specified in the
<code>time</code> argument, the <code>format</code> should reflect the same order.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>lubridate</code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># convert year-month-day hour-min-sec</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"09-02-03 01:11:11"</span>, <span class='st'>"09-02-03 02:11:11"</span>,<span class='st'>"09-02-03 02:25:11"</span>)
<span class='fu'>format_time</span>(<span class='no'>x</span>)</div><div class='output co'>#&gt; [1]    0 3600 4440</div><div class='input'><span class='co'>## [1]    0 3600 4440</span>

<span class='co'># convert day-month-year hour-min</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"03-02-09 01:11"</span>, <span class='st'>"03-02-09 02:11"</span>,<span class='st'>"03-02-09 02:25"</span>)
<span class='fu'>format_time</span>(<span class='no'>x</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"dmyHM"</span>)</div><div class='output co'>#&gt; [1]    0 3600 4440</div><div class='input'><span class='co'>## [1]    0 3600 4440</span>

<span class='co'># convert when AM/PM is present</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"09-02-03 11:11:11 AM"</span>, <span class='st'>"09-02-03 12:11:11 PM"</span>,<span class='st'>"09-02-03 01:25:11 PM"</span>)
<span class='fu'>format_time</span>(<span class='no'>x</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"dmyHMS"</span>) <span class='co'># this is wrong</span></div><div class='output co'>#&gt; [1]      0   3600 -35160</div><div class='input'><span class='fu'>format_time</span>(<span class='no'>x</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"dmyHMSp"</span>)</div><div class='output co'>#&gt; [1]    0 3600 8040</div><div class='input'><span class='co'>## [1]    0 3600 8040</span>

<span class='co'># convert dataframe with year-month-day hour-min-sec (ymdHMS default)</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"09-02-03 01:11:11"</span>, <span class='st'>"09-02-03 02:11:11"</span>,<span class='st'>"09-02-03 02:25:11"</span>),
  <span class='kw'>y</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>23</span>, <span class='fl'>34</span>, <span class='fl'>45</span>))
<span class='fu'>format_time</span>(<span class='no'>x</span>, <span class='kw'>time</span> <span class='kw'>=</span> <span class='fl'>1</span>)</div><div class='output co'>#&gt;   time.num                 x  y
#&gt; 1        0 09-02-03 01:11:11 23
#&gt; 2     3600 09-02-03 02:11:11 34
#&gt; 3     4440 09-02-03 02:25:11 45</div><div class='input'>
<span class='co'># convert dataframe with time in different column and non-default format</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>23</span>, <span class='fl'>34</span>, <span class='fl'>45</span>),
  <span class='kw'>y</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"09-02-2018 11:11:11 AM"</span>, <span class='st'>"09-02-2018 12:11:11 PM"</span>,<span class='st'>"09-02-2018 01:25:11 PM"</span>),
  <span class='kw'>z</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>56</span>, <span class='fl'>67</span>, <span class='fl'>78</span>))
<span class='fu'>format_time</span>(<span class='no'>x</span>, <span class='kw'>time</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"dmyHMSp"</span>)</div><div class='output co'>#&gt;   time.num  x                      y  z
#&gt; 1        0 23 09-02-2018 11:11:11 AM 56
#&gt; 2     3600 34 09-02-2018 12:11:11 PM 67
#&gt; 3     8040 45 09-02-2018 01:25:11 PM 78</div><div class='input'>
<span class='co'># convert dataframe with separate date and time columns crossing midnight</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(
  <span class='kw'>w</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"09-02-18"</span>, <span class='st'>"09-02-18"</span>,<span class='st'>"10-02-18"</span>),
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"22:11:11"</span>, <span class='st'>"23:11:11"</span>,<span class='st'>"00:25:11"</span>),
  <span class='kw'>y</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>23</span>, <span class='fl'>34</span>, <span class='fl'>45</span>),
  <span class='kw'>z</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>56</span>, <span class='fl'>67</span>, <span class='fl'>78</span>))
<span class='fu'>format_time</span>(<span class='no'>x</span>, <span class='kw'>time</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"HMS"</span>) <span class='co'># WRONG! Crosses midnight</span></div><div class='output co'>#&gt;   time.num        w        x  y  z
#&gt; 1        0 09-02-18 22:11:11 23 56
#&gt; 2     3600 09-02-18 23:11:11 34 67
#&gt; 3   -78360 10-02-18 00:25:11 45 78</div><div class='input'><span class='fu'>format_time</span>(<span class='no'>x</span>, <span class='kw'>time</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>1</span>,<span class='fl'>2</span>), <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"dmyHMS"</span>) <span class='co'># Correct</span></div><div class='output co'>#&gt;   time.num        w        x  y  z
#&gt; 1        0 09-02-18 22:11:11 23 56
#&gt; 2     3600 09-02-18 23:11:11 34 67
#&gt; 3     8040 10-02-18 00:25:11 45 78</div><div class='input'><span class='fu'>format_time</span>(<span class='no'>x</span>, <span class='kw'>time</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>2</span>,<span class='fl'>1</span>), <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"HMSdmy"</span>) <span class='co'># Different column order &amp; format</span></div><div class='output co'>#&gt;   time.num        w        x  y  z
#&gt; 1        0 09-02-18 22:11:11 23 56
#&gt; 2     3600 09-02-18 23:11:11 34 67
#&gt; 3     8040 10-02-18 00:25:11 45 78</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Januar Harianto, Nicholas Carey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

