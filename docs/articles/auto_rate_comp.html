<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>auto_rate 3: Comparative performance of auto_rate and LoLinR • respR</title>
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="auto_rate 3: Comparative performance of auto_rate and LoLinR">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">respR</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/respR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/auto_rate.html">auto_rate 1: Automatic detection of metabolic rates</a>
    </li>
    <li>
      <a href="../articles/auto_rate_comp.html">auto_rate 3: Comparative performance of auto_rate and LoLinR</a>
    </li>
    <li>
      <a href="../articles/closed.html">Closed-chamber respirometry</a>
    </li>
    <li>
      <a href="../articles/flowthrough.html">Flowthrough respirometry</a>
    </li>
    <li>
      <a href="../articles/importing.html">Importing your data</a>
    </li>
    <li>
      <a href="../articles/intermittent.html">Intermittent-flow respirometry 1: Simple example</a>
    </li>
    <li>
      <a href="../articles/intermittent2.html">Intermittent-flow respirometry 2: Complex example</a>
    </li>
    <li>
      <a href="../articles/packages_comp.html">respR vs. other R packages</a>
    </li>
    <li>
      <a href="../articles/pcrit.html">Pcrit</a>
    </li>
    <li>
      <a href="../articles/performance.html">auto_rate 2: Performance in detecting linear regions</a>
    </li>
    <li>
      <a href="../articles/reproducibility.html">Open science and reproducibility using respR</a>
    </li>
    <li>
      <a href="../articles/tidyverse.html">respR and the Tidyverse</a>
    </li>
    <li>
      <a href="../articles/twopoint.html">Two-point analyses</a>
    </li>
    <li>
      <a href="../articles/when_to_use.html">When to use `respR`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/januarharianto/respr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>auto_rate 3: Comparative performance of auto_rate and LoLinR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/januarharianto/respr/blob/master/vignettes/auto_rate_comp.Rmd"><code>vignettes/auto_rate_comp.Rmd</code></a></small>
      <div class="hidden name"><code>auto_rate_comp.Rmd</code></div>

    </div>

    
    
<p>In this vignette we compare <code><a href="../reference/auto_rate.html">auto_rate()</a></code> to a different method for detecting linear regions in time series data.</p>
<p>To our current knowledge, one other R package, <a href="https://colin-olito.github.io/LoLinR/vignettes/LoLinR.html"><code>LoLinR</code></a> (Olito et al. 2017), performs linear detection techniques on serial data. LoLinR is designed to be able to do this on any time series datasets, not just respirometry data. However, the same is true of <code><a href="../reference/auto_rate.html">auto_rate()</a></code>; while <code>respR</code> has a focus as an end-to-end solution for processing and analysing respirometry experiments, <code><a href="../reference/auto_rate.html">auto_rate()</a></code> can similarly be used on any data.</p>
<p>The two methods use fundamentally different techniques to detect linear regions of data; we detail <code><a href="../reference/auto_rate.html">auto_rate()</a></code> methods in this vignette <strong>LINK</strong>. <code>LoLinR</code> methods can be found in <code>LoLinR</code>’s online vignette <a href="https://github.com/colin-olito/LoLinR">here</a>, and Olito et al. (JEB, 2017). To summarise the main differences:</p>
<ol style="list-style-type: decimal">
<li><p><code><a href="../reference/auto_rate.html">auto_rate()</a></code> detects linear segments first before running linear regressions on these data regions. <code>LoLinR</code>, by contrast, performs all possible linear regressions on the data first, before implementing a ranking algorithm to classify these as linear regions.</p></li>
<li><p><code>LoLinR</code>’s algorithms use three different metrics to select linear data, in which at least one performs very well to detect linear segments – even if a small amount data is provided (&lt;100 samples). In comparison, <code><a href="../reference/auto_rate.html">auto_rate()</a></code> performs less accurately at such small sample sizes, but that accuracy increases greatly with more data available.</p></li>
<li><p><code><a href="../reference/auto_rate.html">auto_rate()</a></code> is several orders of magnitude faster, even as it performs hundreds to thousands of rolling regressions at a time. It is a better option for large data, while LoLinR might be the function of choice for smaller datasets since its speed decreases <em>exponentially</em> as data gets bigger.</p></li>
</ol>
<div id="processing-times" class="section level3">
<h3 class="hasAnchor">
<a href="#processing-times" class="anchor"></a>Processing times</h3>
<p>The main function in <code>LoLinR</code> is called <code>rankLocReg</code>. The time it takes this function to process data follows an exponential relationship with its length. This is illustrated in the following plot. <code>rankLocReg</code> was run on different sized datasets (blue dots) and the time to completion recorded. These analyses were run in RStudio on the same dataset subset to the appropriate length, on a 2017 Macbook Pro with 3.1 GHz Intel Core i5 processor, 16GB RAM, and no other applications running. The orange dots are estimated completion times for larger datasets extrapolated from the results. Note the log scale.</p>
<p><img src="../../../../Dropbox%20(Sydney%20Uni)/R/respR/vignettes/lolinr_times.png" width="700px"></p>
<p>As we can see, any dataset larger than around 400 to 500 in length takes a prohibitively long time to be processed by <code>rankLocReg</code>. In a test under the same conditions, <code><a href="../reference/auto_rate.html">auto_rate()</a></code> processed a dataset of 5000 datapoints in size in 1.25 seconds; <code>rankLocReg</code> would take 47 days. One dataset included in <code>respR</code> (<code>squid.rd</code>) is over 34,000 datapoints in length. <code><a href="../reference/auto_rate.html">auto_rate()</a></code> completed analysis of this dataset in 18.5 seconds; under the exponential relationship of <code>rankLocReg</code> this would take approximately <em>163 years</em> to be processed. In reality, it is likely (as we have experienced) RAM limits will cause the <code>rankLocReg</code> process to crash well before these durations are reached.</p>
<p>Therefore, it is clear <code>rankLocReg</code> is not a practical solution for analysis of data more than a few hundred datapoints long. The developers of <code>LoLinR</code> are aware of this, and in the documentaton for the package recommend thinning (i.e. subsampling) datasets longer than 500 in length (it includes a function for this, <code>thinData</code>). However, thinning datasets of thousands to tens of thousands of datapoints to only a few hundred would inevitably cause loss of information and is not an acceptable solution.</p>
<div id="comparison" class="section level4">
<h4 class="hasAnchor">
<a href="#comparison" class="anchor"></a>Comparison</h4>
<p>Having <code><a href="../reference/auto_rate.html">auto_rate()</a></code> work more quickly is of no use, unless it gives equally good results as <code>LoLinR</code>. Here we compare the results of both functions on both simulated and real data, so see if they give comparable results.</p>
<p>Because of the length of time it takes <code>rankLocReg</code> to process data, our comparisons are necessarily based on small datasets.</p>
<p>Compare results in corrupted data etc. - doesn <code>LoLinR</code> correctly discard wrong sections?</p>
<p>Compare the 3 different methods in LoLinR?</p>
<div id="simulated-data" class="section level5">
<h5 class="hasAnchor">
<a href="#simulated-data" class="anchor"></a>Simulated data</h5>
<p>Side by side of <code><a href="../reference/auto_rate.html">auto_rate()</a></code> v <code>LoLinR</code> on simulated data just use one example - default</p>
<p>do it for 100 datapoints long - make a big deal of <code>LoLinR</code> <em>working better</em>, but <code>respR</code> not far behind then 500 - show <code>respR</code> is better</p>
</div>
<div id="real-data" class="section level5">
<h5 class="hasAnchor">
<a href="#real-data" class="anchor"></a>Real data</h5>
<p>Run some real data Compare results - both regions, adn chekc slopes are same then we can say slopes taken from lolinr can be processed in respR to get units.</p>
<p>How do we compare actual results from real data? Which is ‘best’ if they identify different regions?</p>
</div>
</div>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>Olito, C., White, C. R., Marshall, D. J., &amp; Barneche, D. R. (2017). Estimating monotonic rates from biological data using local linear regression. The Journal of Experimental Biology, jeb.148775-jeb.148775. <a href="doi:10.1242/jeb.148775" class="uri">doi:10.1242/jeb.148775</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Januar Harianto, Nicholas Carey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
